<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>首页 - 6RPlus - 让世界看到你的想象力</title><link data-n-head="ssr" rel="icon" type="image/x-icon" href="./favicon.ico"><style>*{margin:0;padding:0;box-sizing:border-box;font-family:"Microsoft YaHei",Arial,sans-serif;-webkit-tap-highlight-color:transparent}body{background-color:#f4f5f7;display:flex;min-height:100vh;overflow-x:hidden}a{text-decoration:none;color:inherit}ul,li{list-style:none}.sidebar{width:180px;background-color:#ff6b35;color:white;display:flex;flex-direction:column;position:fixed;height:100%;left:0;top:0;z-index:1001;transition:transform 0.3s ease}.logo{font-size:32px;font-weight:bold;padding:20px 0;text-align:center;border-bottom:1px solid rgba(255,255,255,0.1)}.nav-btn{display:block;padding:15px 20px;color:white;font-size:16px;font-weight:bold;transition:background 0.2s;cursor:pointer}.nav-btn:hover,.nav-btn.active{background-color:rgba(255,255,255,0.2)}.sidebar-footer{margin-top:auto;padding:20px;font-size:12px;text-align:center;line-height:1.8;background:rgba(0,0,0,0.05)}.sidebar-footer a{text-decoration:underline}.main-content{margin-left:180px;flex:1;width:calc(100%-180px);display:flex;flex-direction:column;transition:margin 0.3s ease,width 0.3s ease}.top-bar{height:50px;background:white;box-shadow:0 1px 3px rgba(0,0,0,0.1);display:flex;justify-content:space-between;align-items:center;padding:0 20px;font-size:14px;color:#333;position:fixed;top:0;left:180px;right:0;z-index:1000;transition:left 0.3s ease}.menu-toggle{display:none;font-size:24px;cursor:pointer;color:#666;margin-right:15px}.user-info{display:flex;align-items:center;gap:10px;margin-left:auto}.avatar{width:30px;height:30px;border-radius:50%;border:1px solid#eee;object-fit:cover}.badge{background:#ff6b35;color:white;padding:1px 4px;border-radius:3px;font-size:10px}.container{padding:70px 20px 20px;width:100%;max-width:100%}.card{background:#fff;border:1px solid#e7e7e7;border-radius:4px;margin-bottom:20px;overflow:hidden}.card-header{background:#fafafa;padding:12px 20px;color:#ff6b35;font-weight:bold;font-size:16px;border-bottom:1px solid#e7e7e7;display:flex;justify-content:space-between;align-items:center}.card-body{padding:20px}.search-group{margin-top:10px}.input-wrapper{display:flex;border:2px solid#ff6b35;border-radius:4px;overflow:hidden}input[type="text"]{flex:1;padding:12px;border:none;outline:none;font-size:16px}.go-btn{background:#ff6b35;color:white;border:none;padding:0 30px;font-size:16px;font-weight:bold;cursor:pointer;transition:background 0.2s}.go-btn:hover{background:#e05e2e}.random-game{display:flex;gap:15px;flex-wrap:wrap}.random-game-img{width:80px;height:100px;object-fit:cover;border-radius:4px;border:1px solid#eee;flex-shrink:0;background-color:#f0f0f0}.random-game-info{flex:1;min-width:200px}.random-game-title{font-weight:bold;color:#333;margin-bottom:5px;font-size:16px}.random-game-details{font-size:12px;color:#666;margin-bottom:3px}.random-game-author{font-size:12px;color:#666;margin-bottom:8px}.random-game-link{display:inline-block;background:#ff6b35;color:white;padding:5px 12px;border-radius:3px;font-size:12px;margin-top:5px}.random-game-link:hover{background:#e05e2e}.reload-btn{background:#ff6b35;color:white;border:none;padding:3px 10px;border-radius:3px;font-size:12px;cursor:pointer;transition:background 0.2s}.reload-btn:hover{background:#e05e2e}@media(max-width:768px){.sidebar{transform:translateX(-100%);width:240px;box-shadow:2px 0 5px rgba(0,0,0,0.2);z-index:1002}.sidebar.active{transform:translateX(0)}.main-content{margin-left:0;width:100%;transition:none}.top-bar{left:0!important;right:0!important;z-index:1001;padding:0 20px;transition:none}.menu-toggle{display:flex}.container{padding:70px 10px 20px;margin-top:0}.random-game{flex-direction:column}.random-game-img{width:100%;height:150px}.overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:1000}.overlay.active{display:block}}</style></head><body><div class="overlay"onclick="toggleSidebar()"></div><nav class="sidebar"><div class="logo">6R+</div><a href="index"class="nav-btn active">首页</a><a href="about"class="nav-btn">关于</a><div class="sidebar-footer"><div style="font-weight:bold; margin-bottom:5px;">66RPG API Helper</div><div>&copy;<span id="year"></span>mtdcmz</div><div style="margin: 8px 0;"><a href="https://space.bilibili.com/426046208"target="_blank">Bili</a>·<a href="https://github.com/mtdcmz"target="_blank">GitHub</a></div><div id="datetime"></div></div></nav><main class="main-content"><header class="top-bar"><div class="menu-toggle"onclick="toggleSidebar()">☰</div><div class="user-info"><span id="greeting"></span>,<img src="https://wcdn1.cgyouxi.com/avatar/women_big.jpg"class="avatar"alt="avatar"><span>游客</span></div></header><div class="container"><div class="card"><div class="card-header">6RPlus,让世界看到你的想象力</div><div class="card-body"><p style="color: #666; font-size: 14px;">欢迎使用橙光游戏查询工具。</p></div></div><div class="card"><div class="card-header"><span>随机推荐</span><button class="reload-btn"id="reloadRandomBtn">换一个</button></div><div class="card-body"><div class="random-game"id="randomGameBody"><div style="text-align:center; padding:20px; color:#999; width:100%;">正在获取随机游戏...</div></div></div></div><div class="search-group"><label style="display:block; margin-bottom:8px; font-weight:bold; color:#444;">请输入游戏ID（纯数字）：</label><div class="input-wrapper"><input type="text"id="gameInput"placeholder="例如：221107"autocomplete="off"inputmode="numeric"><button class="go-btn"id="goBtn">GO</button></div></div></div></main><script>function createPlaceholderSVG(width,height,text="无封面"){const svg=`<svg xmlns="http://www.w3.org/2000/svg"width="${width}"height="${height}"viewBox="0 0 ${width} ${height}"><rect width="100%"height="100%"fill="#f0f0f0"/><rect x="10%"y="10%"width="80%"height="80%"fill="#ddd"stroke="#ccc"stroke-width="1"/><line x1="20%"y1="30%"x2="80%"y2="70%"stroke="#aaa"stroke-width="1"stroke-dasharray="2,2"/><line x1="80%"y1="30%"x2="20%"y2="70%"stroke="#aaa"stroke-width="1"stroke-dasharray="2,2"/><text x="50%"y="50%"text-anchor="middle"dy=".3em"fill="#999"font-size="14"font-family="Arial">${text}</text></svg>`;return`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(svg)}`}function toggleSidebar(){const sidebar=document.querySelector('.sidebar');const overlay=document.querySelector('.overlay');sidebar.classList.toggle('active');overlay.classList.toggle('active')}function updateTime(){const now=new Date();const year=now.getFullYear();const yearEl=document.getElementById('year');if(yearEl)yearEl.textContent=year;const pad=n=>n<10?'0'+n:n;const weekDays=['周日','周一','周二','周三','周四','周五','周六'];const timeStr=`${year}/${pad(now.getMonth()+1)}/${pad(now.getDate())}${weekDays[now.getDay()]}`;const clockStr=`${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(now.getSeconds())}`;const dtEl=document.getElementById('datetime');if(dtEl)dtEl.innerHTML=`${timeStr}<br>${clockStr}(北京时间)`;const h=now.getHours();let greet="";if(h>=5&&h<11)greet="早上好";else if(h>=11&&h<13)greet="中午好";else if(h>=13&&h<18)greet="下午好";else greet="晚上好";const greetEl=document.getElementById('greeting');if(greetEl)greetEl.textContent=greet}setInterval(updateTime,1000);updateTime();const goBtn=document.getElementById('goBtn');const gameInput=document.getElementById('gameInput');gameInput.addEventListener('input',function(e){this.value=this.value.replace(/[^\d]/g,'')});function handleSearch(){const val=gameInput.value.trim();if(!val){alert('请输入游戏ID');return}window.location.href='game?id='+val}goBtn.addEventListener('click',handleSearch);gameInput.addEventListener('keypress',function(e){if(e.key==='Enter')handleSearch()});const API_BASE='https://66rpg.mtdcmz.dpdns.org/api';const randomGameBody=document.getElementById('randomGameBody');const reloadRandomBtn=document.getElementById('reloadRandomBtn');async function fetchRandomGame(){const randomId=Math.floor(Math.random()*(1680000-13+1))+13;randomGameBody.innerHTML='<div style="text-align:center; padding:20px; color:#999; width:100%;">正在获取游戏信息...</div>';try{const res=await fetch(`${API_BASE}/game/${randomId}?updates=0`);const json=await res.json();if(json.status===1&&json.data){const game=json.data;let pubDate="未知日期";if(game.create_time){const ts=parseInt(game.create_time);const timestamp=ts.toString().length===10?ts*1000:ts;const d=new Date(timestamp);if(d.toString()!=='Invalid Date'){pubDate=d.toLocaleDateString().replace(/\//g,'-')}}let tagsHtml='';if(game.tags&&Array.isArray(game.tags)){if(game.tags.length>0&&typeof game.tags[0]==='object'&&game.tags[0].tname){const displayTags=game.tags.slice(0,3).map(t=>t.tname);tagsHtml=`<div style="font-size:11px; color:#888; margin-bottom:5px;">${displayTags.join(' · ')}</div>`}else if(game.tags.length>0){const displayTags=game.tags.slice(0,3);tagsHtml=`<div style="font-size:11px; color:#888; margin-bottom:5px;">${displayTags.join(' · ')}</div>`}}const placeholderUrl=createPlaceholderSVG(80,100,'无封面');randomGameBody.innerHTML=`<img src="${game.real_thumb || ''}"class="random-game-img"onerror="this.src='${placeholderUrl}'"><div class="random-game-info"><div class="random-game-title">${game.gname||'未知游戏'}</div>${tagsHtml}<div class="random-game-details">游戏ID:${game.gindex||randomId}</div><div class="random-game-details">发布时间:${pubDate}</div><div class="random-game-details">游玩次数:${game.play_times||0}|点赞:${game.likes||0}|鲜花:${game.flowers||0}</div><div class="random-game-author">作者:<a href="https://www.66rpg.com/friend/${game.author_uid}"target="_blank"style="color:#ff6b35;">${game.author_uname||'未知作者'}</a>(UID:${game.author_uid||'未知'})</div><a href="game?id=${game.gindex || randomId}"class="random-game-link">查看详情</a></div>`}else{randomGameBody.innerHTML=`<div style="text-align:center; padding:20px; color:#999; width:100%;">随机ID ${randomId}无对应游戏，点击"换一个"重试。</div>`}}catch(e){console.error('获取随机游戏失败:',e);randomGameBody.innerHTML='<div style="text-align:center; padding:20px; color:red; width:100%;">获取失败，请检查网络。</div>'}}fetchRandomGame();if(reloadRandomBtn){reloadRandomBtn.addEventListener('click',fetchRandomGame)}</script></body></html>